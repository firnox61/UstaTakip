@{
    Layout = null;
    var title = ViewData["Title"] as string ?? "UstaTakip";
}
<!DOCTYPE html>
<html lang="tr" data-theme="light">
<head>
    <meta charset="utf-8" />
    <title>@title - UstaTakip</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/app-shell.css" />
</head>
<body>
    <!-- ÜST BAR -->
    <nav class="navbar navbar-expand navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" asp-controller="Home" asp-action="Index">
                <i class="fa-solid fa-screwdriver-wrench me-2"></i>UstaTakip
            </a>

            <ul class="navbar-nav ms-auto align-items-center">
                @if (User.Identity?.IsAuthenticated ?? false)
                {
                    <li class="nav-item me-3 text-light">
                        <i class="fa-solid fa-user-circle me-1"></i>
                        Hoş geldin, @User.Identity.Name
                    </li>
                    <li class="nav-item">
                        <form asp-action="Logout" asp-controller="Auth" method="post" class="d-inline">
                            @Html.AntiForgeryToken()
                            <button type="submit" class="btn btn-sm btn-outline-light">
                                <i class="fa-solid fa-right-from-bracket"></i> Çıkış
                            </button>
                        </form>
                    </li>
                }
                else
                {
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Auth" asp-action="Login">
                            <i class="fa-solid fa-right-to-bracket me-1"></i> Giriş
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Auth" asp-action="Register">
                            <i class="fa-solid fa-user-plus me-1"></i> Kayıt Ol
                        </a>
                    </li>
                }
            </ul>
        </div>
    </nav>

    <!-- APP WRAP -->
    <div class="app-wrap d-flex">
        <!-- SOL MENÜ -->
        <aside class="app-sidebar border-end">
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "Dashboard" ? "active" : "")"
                   asp-controller="Home" asp-action="Index">
                    <i class="fa-solid fa-gauge me-2"></i>Dashboard
                </a>
                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "Customers" ? "active" : "")"
                   asp-controller="Customers" asp-action="Index">
                    <i class="fa-solid fa-users me-2"></i>Müşteriler
                </a>

                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "Vehicles" ? "active" : "")"
                   asp-controller="Vehicles" asp-action="Index">
                    <i class="fa-solid fa-car-side me-2"></i>Araçlar
                </a>
                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "InsurancePolicies" ? "active" : "")"
                   asp-controller="InsurancePolicies" asp-action="Index">
                    <i class="fa-solid fa-file-shield me-2"></i>Poliçeler
                </a>
                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "InsurancePayments" ? "active" : "")"
                   asp-controller="InsurancePayments" asp-action="Index">
                    <i class="fa-solid fa-receipt me-2"></i>Ödemeler
                </a>
                <a class="list-group-item list-group-item-action @(ViewData["ActiveMenu"] as string == "RepairJobs" ? "active" : "")"
                   asp-controller="RepairJobs" asp-action="Index">
                    <i class="fa-solid fa-screwdriver-wrench me-2"></i>Tamir/Bakım
                </a>
            </div>
        </aside>

        <!-- ANA İÇERİK -->
        <main class="app-main flex-fill">
            <div class="container-fluid py-3">
                @await Html.PartialAsync("_Alerts") <!-- TempData alertleri -->
                @RenderBody()
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
